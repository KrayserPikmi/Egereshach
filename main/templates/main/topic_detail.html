{% extends 'main/base.html' %}

{% block content %}
<div class="topic-container">
    <a href="{% url 'subject_detail' topic.section.subject.slug %}">‚Üê –ù–∞–∑–∞–¥ –∫ —Ç–µ–º–∞–º</a>
    
    <h2>{{ topic.code }} {{ topic.title }}</h2>
    
    <div class="tabs">
        <button onclick="openTab('theory')" class="tab-btn active">üìñ –¢–µ–æ—Ä–∏—è</button>
        <button onclick="openTab('practice')" class="tab-btn">‚úÖ –ü—Ä–∞–∫—Ç–∏–∫–∞</button>
    </div>

    <div id="theory" class="tab-content">
        <div class="conspect-content">
            {{ topic.content|safe }}
        </div>
    </div>

    <div id="practice" class="tab-content" style="display:none;">
        {% for question in questions %}
            <div class="question-card">
                <p class="question-text">{{ forloop.counter }}. {{ question.text }}</p>
                
                <form class="options-list">
                    {% for option in question.options.all %}
                        <label class="option-item">
                            <input type="radio" name="q{{ question.id }}" value="{{ option.is_correct }}">
                            {{ option.text }}
                        </label>
                    {% endfor %}
                </form>
                
                <div class="feedback" style="display:none;"></div>
            </div>
        {% empty %}
            <p>–í–æ–ø—Ä–æ—Å–æ–≤ –ø–æ–∫–∞ –Ω–µ—Ç.</p>
        {% endfor %}
    </div>
</div>

<script>
function openTab(tabName) {
    // —Å–∫—Ä—ã—Ç–∏–µ –≤—Å–µ—Ö –≤–∫–ª–∞–¥–æ–∫
    document.getElementById('theory').style.display = 'none';
    document.getElementById('practice').style.display = 'none';
    
    // –ø–æ–∫–∞–∑ –≤—ã–±—Ä–∞–Ω–Ω–æ–π –≤–∫–ª–∞–¥–∫–∏
    document.getElementById(tabName).style.display = 'block';
    
}
</script>
{% endblock %}